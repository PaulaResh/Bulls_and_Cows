from random import *
CHECK_GLOBAL = 0
def check_repetition(number):
    string = str(number)
    a = set()
    for letter in string:
        a.add(int(letter))
    if len(a) == 4:
        return True
    else:
        return False

def game_with_a_pc():
    bool_check = False
    while bool_check == False:
        the_hidden_number = randint(1000, 9999)
        bool_check = check_repetition(the_hidden_number)

    print(the_hidden_number)  # проверка
    the_hidden_number = str(the_hidden_number)
    bool_check1 = False
    while bool_check1 == False:
        count_cow = 0
        count_bull = 0
        input_number = input('Введите число: ')
        if len(input_number) == 4:
            for i in range (len(input_number)):
                if the_hidden_number[i] == input_number[i]:
                    count_bull += 1
                elif input_number[i] in str(the_hidden_number):
                    count_cow += 1
            if count_cow == 1 and count_bull == 1:
                print(f'{count_cow} коровa, {count_bull} бык')
            elif count_cow == 1 and count_bull > 1:
                print(f'{count_cow} коровa, {count_bull} быков')
            elif count_cow > 1 and count_bull == 1:
                print(f'{count_cow} коровa, {count_bull} бык')
            else:
                print(f'{count_cow} коровы, {count_bull} быков')
            if count_bull == len(the_hidden_number):
                print(f'Победа! Загаданное число {the_hidden_number}')
                bool_check1 = True
        else:
            print('Неверный ввод! Попробуй снова')

def rules():
    print(' ' * 33, '╭─━━━━━━━─╮')
    print(' ' * 33, '| Правила |')
    print(' ' * 33, '╰─━━━━━━━─╯')
    print()
    print('✧ Компьютер загадал четырёхзначное число из неповторяющихся'
          ' цифр (от 0 до 9). ')
    print('✧ После каждой твоей попытки выведется количество быков и коров')
    print(' ' * 3, 'Быки — сколько цифр угадано и стоят на правильном месте.')
    print(' ' * 3, 'Коровы — сколько цифр есть в числе, но стоят'
                   ' не на своём месте.')
    print('✧ Игра продолжается, пока ты не получишь 4 быка'
          ' — значит, число угадано!')
    print()
    print('─' * 80)
    print()
    rules_choice()

def rules_choice():
    print('Чтобы начать игру введи "старт!"')
    print('Чтобы прочитать правила введи "правила"')
    choice_start_combinations = ['старт!','старт','Старт!','Старт']
    choice_rules_combinations = ['правила', 'Правила']
    choice_YES_combinations = ['да', 'Да']
    choice_NO_combinations = ['нет', 'Нет']
    game_count = 0
    choice = input('Ввод: ')
    print('─' * 80)
    while (choice not in choice_start_combinations or
           choice not in choice_rules_combinations):
        if game_count > 0:
            print('─' * 80)
            choice = input('Вы хотите продолжить игру?: ')
        if choice in choice_start_combinations:
            game_count += 1
            CHECK_GLOBAL = 1
            game_with_a_pc()
            print('─' * 80)
            choice = input('Вы хотите продолжить игру?: ')
        if choice in choice_YES_combinations:
            print('Продолжаем!')
            print('─' * 80)
            game_with_a_pc()
        elif choice in choice_rules_combinations:
            rules()
        elif choice in choice_NO_combinations:
            print('Спасибо за игру! Ждём Вас снова!)')
            break
        else:
            print('повторите еще раз')
            choice = input('Ввод: ')

if CHECK_GLOBAL == 0:
    print(' ' * 30, '╭─━━━━━━━━━━━━━─╮')
    print(' ' * 30, '| Быки и коровы |')
    print(' ' * 30, '╰─━━━━━━━━━━━━━─╯')
    print()
    print('Здравствуй, игрок, это игра быки и коровы! ')
    rules_choice()
